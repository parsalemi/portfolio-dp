import{a as q}from"./chunk-PHBEZDRE.js";import{a as J,b as K}from"./chunk-SHEJBAL4.js";import{a as Y}from"./chunk-2DBSTQWA.js";import"./chunk-N5EGTLYA.js";import{a as j,b as D}from"./chunk-WTVMWNLL.js";import"./chunk-32Q6IJYV.js";import{b as I,e as T,f as F,g as N,h as L,i as B,j as z,q as H,s as G,t as R}from"./chunk-C6TDYET4.js";import"./chunk-ZVBRR6AA.js";import"./chunk-LYNREAIS.js";import"./chunk-74PP5OHW.js";import"./chunk-Q64FFBLU.js";import"./chunk-PZDGU76M.js";import"./chunk-6RETXR6U.js";import"./chunk-T5LH5EWW.js";import{Ab as v,Ib as P,Jb as V,Kb as i,Lb as n,Mb as O,Qb as C,Ub as u,Uc as A,Vb as M,dc as b,ec as a,fb as p,fc as h,gb as S,gc as W,ic as g,ja as y,jc as x,kc as f,mc as k,na as E,xa as s,ya as l,yb as _}from"./chunk-7ATWILSR.js";var Q=(m,w)=>w.id;function U(m,w){if(m&1){let r=C();i(0,"button",21),u("click",function(){let e=s(r).$implicit,o=M(),c=b(19);return o.handleCategory(e),l(c.classList.replace("flex","hidden"))}),i(1,"mat-icon"),a(2),n(),a(3),n()}if(m&2){let r=w.$implicit,d=M();v("text-primary-500",d.newExpense.category.id==r.id),p(2),h(r.icon),p(),W(" ",r.name," ")}}var le=(()=>{class m{constructor(r){this.fb=r,this._ctgService=y(Y),this._expenseService=y(q),this.categories=A(()=>this._ctgService.categories()),this.selectedDate="",this.newExpense={subject:"",amount:0,description:"",date:"",mode:"expense",category:{id:1,name:"Home",icon:"home",isDefault:!0}}}addExpense(){this._expenseService.saveExpense(this.newExpense),this.newExpense={subject:"",amount:0,description:"",date:"",mode:"expense",category:{id:1,name:"Home",icon:"home",isDefault:!0}}}handleCategory(r){this.newExpense.category=r}formatDate(r){let d=r.getDate().toString().padStart(2,"0"),e=(r.getMonth()+1).toString().padStart(2,"0"),o=r.getFullYear();this.newExpense.date=`${d}-${e}-${o}`}isFormValid(){return this.newExpense.amount>0&&this.newExpense.subject.trim()!==""&&this.newExpense.date!==""}static{this.\u0275fac=function(d){return new(d||m)(S(H))}}static{this.\u0275cmp=E({type:m,selectors:[["app-add-expense"]],standalone:!0,features:[k],decls:35,vars:10,consts:[["form",""],["ctgMenu",""],[1,"w-full","h-full","flex","center"],[1,"min-w-80","p-5","flex","flex-col","items-center","justify-between","gap-5","bg-basic-1100","border","border-primary-900","rounded-xl","shadow-3","relative"],[1,"text-center"],[1,"formWrapper"],["for","subject"],["type","text","name","subject","placeholder","Subject",1,"expenseInput",3,"ngModelChange","ngModel"],["for","amount"],["type","number","name","amount","placeholder","Amount",1,"expenseInput",3,"ngModelChange","ngModel"],["for","category",1,"mr-4"],[1,"btn-secondary","flex-1","rounded-lg",3,"click"],[1,"min-w-full","h-full","absolute","hidden","flex-col","flex-wrap","items-start","justify-center","gap-3","bg-basic-1100","inset-0","rounded-xl","z-20","p-3"],[1,"absolute","top-3","right-3",3,"click"],[1,"pi","pi-times"],[1,"flex","center","gap-2",3,"text-primary-500"],["for","date"],["name","date","dateFormat","dd/mm/yy","styleClass","z-10",3,"onSelect","ngModelChange","showTime","showSeconds","ngModel","showIcon","iconDisplay"],["for","description"],["name","description",1,"bg-basic-900","text-basic-400",3,"ngModelChange","ngModel"],["type","submit",1,"btn-primary","self-stretch","disabled:btn-primary-disabled",3,"click","disabled"],[1,"flex","center","gap-2",3,"click"]],template:function(d,e){if(d&1){let o=C();i(0,"div",2)(1,"form",3,0)(3,"h3",4),a(4,"Add Expense"),n(),i(5,"div",5)(6,"label",6),a(7,"Subject"),n(),i(8,"input",7),f("ngModelChange",function(t){return s(o),x(e.newExpense.subject,t)||(e.newExpense.subject=t),l(t)}),n()(),i(9,"div",5)(10,"label",8),a(11,"Amount"),n(),i(12,"input",9),f("ngModelChange",function(t){return s(o),x(e.newExpense.amount,t)||(e.newExpense.amount=t),l(t)}),n()(),i(13,"div",5)(14,"label",10),a(15,"Category"),n(),i(16,"button",11),u("click",function(){s(o);let t=b(19);return l(t.classList.replace("hidden","flex"))}),a(17),n(),i(18,"div",12,1)(20,"button",13),u("click",function(){s(o);let t=b(19);return l(t.classList.replace("flex","hidden"))}),O(21,"i",14),n(),P(22,U,4,4,"button",15,Q),n()(),i(24,"div",5)(25,"label",16),a(26,"Date"),n(),i(27,"p-calendar",17),u("onSelect",function(t){return s(o),l(e.formatDate(t))}),f("ngModelChange",function(t){return s(o),x(e.selectedDate,t)||(e.selectedDate=t),l(t)}),n()(),i(28,"div",5)(29,"label",18),a(30,"Description"),n(),i(31,"textarea",19),f("ngModelChange",function(t){return s(o),x(e.newExpense.description,t)||(e.newExpense.description=t),l(t)}),a(32,`  
      `),n()(),i(33,"button",20),u("click",function(){return s(o),l(e.addExpense())}),a(34,"Add Expense"),n()()()}d&2&&(p(8),g("ngModel",e.newExpense.subject),p(4),g("ngModel",e.newExpense.amount),p(5),h(e.newExpense.category.name),p(5),V(e.categories()),p(5),_("showTime",!1)("showSeconds",!1),g("ngModel",e.selectedDate),_("showIcon",!0)("iconDisplay","input"),p(4),g("ngModel",e.newExpense.description),p(2),_("disabled",!e.isFormValid()))},dependencies:[G,B,I,z,T,F,L,N,D,j,K,J,R],styles:[".categoryContainer[_ngcontent-%COMP%]{position:relative;display:inline-block}.categoryMenu[_ngcontent-%COMP%]{background-color:var(--basic-800);color:var(--basic-300);padding:12px;border-radius:12px;flex-wrap:wrap;justify-content:center;align-items:center;gap:20px;position:absolute;left:100%;top:10%;margin-left:12px;overflow-y:scroll}.categoryNameInput[_ngcontent-%COMP%]{background-color:var(--basic-1000);color:var(--basic-300);width:100%;margin-right:8px;padding:10px 20px;border-radius:12px;border:2px solid transparent}.categoryNameInput[_ngcontent-%COMP%]:focus-visible{border:2px solid var(--primary-600);outline:none}.amountInp[_ngcontent-%COMP%]::-webkit-outer-spin-button, .amountInp[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}textarea[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:8px;padding:8px}textarea[_ngcontent-%COMP%]:focus{border:2px solid var(--primary-700);outline:none}.formWrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:12px}.formWrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{justify-self:left}.formWrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formWrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .formWrapper[_ngcontent-%COMP%]   p-calendar[_ngcontent-%COMP%]{margin-left:auto}.formWrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;background-color:var(--basic-900);padding:8px 12px;border-radius:8px;appearance:textfield;-moz-appearance:textfield}.formWrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.formWrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-600)}"]})}}return m})();export{le as AddExpenseComponent};
