import{a as Q,b as j}from"./chunk-QN2GORBM.js";import"./chunk-32Q6IJYV.js";import{a as q,b as z}from"./chunk-BOTK6AKQ.js";import"./chunk-LYNREAIS.js";import"./chunk-74PP5OHW.js";import"./chunk-Q64FFBLU.js";import"./chunk-PZDGU76M.js";import{d as _}from"./chunk-6RETXR6U.js";import"./chunk-T5LH5EWW.js";import{Db as L,Eb as F,Hb as p,Ib as f,Jb as v,Kb as n,Lb as a,Mb as C,Qb as x,Ub as w,Vb as c,Yb as E,ac as P,bc as T,cc as B,dc as $,ec as S,fb as l,fc as R,gb as H,gc as I,lc as O,mc as V,na as M,nc as b,xa as d,xb as k,ya as g,yb as N}from"./chunk-7ATWILSR.js";var D=["slot"],A=()=>[1,2,3,4,5,6,7,8,9];function W(s,m){if(s&1){let e=x();n(0,"button",10,0),w("mouseover",function(){let o=d(e).$implicit,t=c().$implicit,i=c();return g(i.highlightRowAndCol(t,o))})("mouseout",function(){let o=d(e).$implicit,t=c().$implicit,i=c();return g(i.removeHighlight(t,o))}),a()}if(s&2){let e=m.$implicit,r=c().$implicit;L("slot shadow-1 text-basic-100 text-center text-h4 rounded-xl border-2 border-basic-900 bg-basic-1100 w-9 h-9 md:group-[h-14,w-14,text-h2] ",e%3==0&&e!==9?"colSeperator":"mr-0",""),k("data-x",r)("data-y",e)}}function G(s,m){if(s&1&&(n(0,"div"),f(1,W,2,5,"button",7,p),a()),s&2){let e=m.$implicit;F("row flex gap-1 ",e!==9?"mb-1":""," ",e%3==0&&e!==9?"rowSeperator":"",""),l(),v(b(4,A))}}function J(s,m){if(s&1){let e=x();n(0,"button",11,1),w("click",function(){let o=d(e).$implicit,t=$(1),i=c();return g(i.activeNumber(o,t))}),S(2),a()}if(s&2){let e=m.$implicit;E("value",e),l(2),R(e)}}var it=(()=>{class s{constructor(e){this.message=e,this.btn=[],this.selectedCell=[],this.allBtns=[],this.isHighlightedRow=null,this.isHighlightedCol=null,this.isNumberActive=null,this.errors=0,this.filledSlots=0,this.progress=0,this.whichHint=0,this.placeHints=[()=>this.normalHints(this.hints[this.whichHint].Q),()=>this.normalHints(this.rotateMatrix90(this.hints[this.whichHint].Q))],this.hints={0:{Q:[[9,"-","-",4,"-","-","-","-","-"],[4,"-","-","-","-","-",9,"-","-"],["-","-",3,"-",9,8,"-","-",7],[7,6,"-","-",2,"-","-","-","-"],["-",3,"-","-",8,"-","-",7,"-"],["-","-","-","-",1,"-","-",3,2],[3,"-","-",2,4,"-",8,"-","-"],["-","-",1,"-","-","-","-","-",6],["-","-","-","-","-",6,"-","-",9]],A:[[9,5,7,4,6,1,2,8,3],[4,1,8,7,3,2,9,6,5],[6,2,3,5,9,8,4,1,7],[7,6,5,3,2,4,1,9,8],[1,3,2,9,8,5,6,7,4],[8,4,9,6,1,7,5,3,2],[3,7,6,2,4,9,8,5,1],[2,9,1,8,5,3,7,4,6],[5,8,4,1,7,6,3,2,9]]},1:{Q:[["-","-",7,4,9,1,6,"-",5],[2,"-","-","-",6,"-",3,"-",9],["-","-","-","-","-",7,"-",1,"-"],["-",5,8,6,"-","-","-","-",4],["-","-",3,"-","-","-","-",9,"-"],["-","-",6,2,"-","-",1,8,7],[9,"-",4,"-",7,"-","-","-",2],[6,7,"-",8,3,"-","-","-","-"],[8,1,"-","-",4,5,"-","-","-"]],A:[[3,8,7,4,9,1,6,2,5],[2,4,1,5,6,8,3,7,9],[5,6,9,3,2,7,4,1,8],[7,5,8,6,1,9,2,3,4],[1,2,3,7,8,4,5,9,6],[4,9,6,2,5,3,1,8,7],[9,3,4,1,7,6,8,5,2],[6,7,5,8,3,2,9,4,1],[8,1,2,9,4,5,7,6,3]]}},this.whichHint=Math.floor(Math.random()*2),document.body.addEventListener("click",r=>{if(r.target.classList.contains("btn-secondary")==!1&&r.target.classList.contains("slot")==!1)this.isNumberActive.classList.remove("selectedNumber"),this.isNumberActive=null,this.message.add({severity:"info",summary:"Click On A Number!",detail:"No Number Is Currently Active",life:2e3});else return})}activeNumber(e,r){this.activeBtn=e,this.isNumberActive!==null&&this.isNumberActive.classList.remove("selectedNumber"),this.isNumberActive=r,this.isNumberActive.classList.add("selectedNumber");for(let o=0;o<this.slot.length;o++){let t=this.slot[o].nativeElement;t.innerHTML==e?t.classList.add("allFromNum"):t.classList.remove("allFromNum")}}setNumber(e,r,o,t){this.isNumberActive!=null&&(r==this.hints[this.whichHint].A[o-1][t-1]?(e.innerHTML=r,this.filledSlots++,this.calcProgress(this.filledSlots),e.classList.add("allFromNum")):(this.errors++,this.message.add({severity:"error",summary:"Wrong!",detail:"Try Again",life:500})),this.calcProgress(this.filledSlots)===100&&this.message.add({severity:"success",summary:"Congratulation!",detail:"Puzzle Completed",life:5e3}))}highlightRowAndCol(e,r){let o=document.querySelectorAll(`[data-x='${e}']`),t=document.querySelectorAll(`[data-y='${r}']`);this.isHighlightedRow!==null&&(this.isHighlightedRow.forEach(i=>i.classList.remove("highlight")),this.isHighlightedCol.forEach(i=>i.classList.remove("highlight"))),this.isHighlightedRow=o,this.isHighlightedCol=t;for(let i=0;i<o.length;i++)o[i].classList.add("highlight"),t[i].classList.add("highlight")}removeHighlight(e,r){let o=document.querySelectorAll(`[data-x='${e}']`),t=document.querySelectorAll(`[data-y='${r}']`);this.isHighlightedRow!==null&&(this.isHighlightedRow.forEach(i=>i.classList.remove("highlight")),this.isHighlightedCol.forEach(i=>i.classList.remove("highlight"))),this.isHighlightedRow=o,this.isHighlightedCol=t;for(let i=0;i<o.length;i++)o[i].classList.remove("highlight"),t[i].classList.remove("highlight")}calcProgress(e){return this.progress=Math.floor(e/81*100),this.progress}ngAfterViewInit(){this.slot=this.slots._results,this.slot.forEach(r=>{let o=r.nativeElement;o.addEventListener("click",t=>{this.isNumberActive&&this.setNumber(t.target,this.activeBtn,o.dataset.x,o.dataset.y)})});let e=Math.floor(Math.random()*2);this.placeHints[0](),this.calcProgress(this.filledSlots)}getSquares(e){let r=e.slice(0,9),o=[];for(let t=0;t<9;t+=3)for(let i=0;i<9;i+=3){let h=[];for(let u=0;u<3;u++)for(let y=0;y<3;y++)h.push(r[t+u][i+y]);o.push(h)}return o}normalHints(e){let r=[],o=[];for(let t=0;t<this.slot.length;t+=9)r.push(this.slot.slice(t,t+9));for(let t=0;t<r.length;t++)r[t].forEach(h=>{this.allBtns.push(h.nativeElement)});for(let t=0;t<this.allBtns.length;t+=9)o.push(this.allBtns.slice(t,t+9));for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)e[t][i]!=="-"&&(o[t][i].innerHTML=e[t][i],this.filledSlots++);return o}rotateMatrix90(e){let r=e.length,o=Array.from(Array(r),()=>Array.from(Array(r)));for(let t=0;t<r;t++)for(let i=0;i<r;i++){let h=e[t][i],u=r-(t+1);o[i][u]=h}return o}rotateMatrix180(e){let r=e.length,o=Array.from(Array(r),()=>Array.from(Array(r)));for(let t=r-1;t>=0;t--)for(let i=r-1;i>=0;i--)o[t][i]=e[t][i];return o}static{this.\u0275fac=function(r){return new(r||s)(H(_))}}static{this.\u0275cmp=M({type:s,selectors:[["app-sudoku"]],viewQuery:function(r,o){if(r&1&&P(D,5),r&2){let t;T(t=B())&&(o.slots=t)}},standalone:!0,features:[O([_]),V],decls:11,vars:4,consts:[["slot",""],["activeBtn",""],[1,"main","w-full","flex","flex-col","items-center","justify-center"],["position","center"],[1,"mb-5","text-error-500"],[1,"rounded-xl","bg-basic-1000","overflow-hidden"],["mode","determinate",1,"progress","mb-5",3,"value"],[3,"class"],[1,"flex","items-center","justify-center","flex-wrap","gap-3","mt-5","pb-32","lg:pb-0"],[1,"btn-secondary","text-h4","rounded-lg",3,"value"],[3,"mouseover","mouseout"],[1,"btn-secondary","text-h4","rounded-lg",3,"click","value"]],template:function(r,o){r&1&&(n(0,"div",2),C(1,"p-toast",3),n(2,"h2",4),S(3),a(),n(4,"div",5),C(5,"mat-progress-bar",6),f(6,G,3,5,"div",7,p),a(),n(8,"div",8),f(9,J,3,2,"button",9,p),a()()),r&2&&(l(3),I("Errors : ",o.errors,""),l(2),N("value",o.progress),l(),v(b(2,A)),l(3),v(b(3,A)))},dependencies:[z,q,j,Q],styles:['.slot[_ngcontent-%COMP%]:focus-within{border:2px solid var(--primary-400)}.selectedNumber[_ngcontent-%COMP%]{background-color:var(--primary-400);color:var(--primary-800)}.allFromNum[_ngcontent-%COMP%]{background-color:var(--primary-700);color:var(--primary-100)}.highlight[_ngcontent-%COMP%]{background-color:var(--primary-600);color:var(--primary-100)}.colSeperator[_ngcontent-%COMP%]{position:relative}.colSeperator[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10%;right:-14.8%;width:2px;height:130%;background:var(--basic-600)}@media (min-width: 768px){.colSeperator[_ngcontent-%COMP%]:before{right:-9%}}.rowSeperator[_ngcontent-%COMP%]{position:relative}.rowSeperator[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-9%;left:0%;width:100%;height:2px;background:var(--basic-600)}@media (min-width: 768px){.rowSeperator[_ngcontent-%COMP%]:before{bottom:-6%}}']})}}return s})();export{it as SudokuComponent};
