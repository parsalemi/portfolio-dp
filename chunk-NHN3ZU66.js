import{a as q}from"./chunk-6TFEULOZ.js";import{a as J,b as K}from"./chunk-SHEJBAL4.js";import{a as Y}from"./chunk-2DBSTQWA.js";import"./chunk-N5EGTLYA.js";import{a as j,b as D}from"./chunk-WTVMWNLL.js";import"./chunk-32Q6IJYV.js";import{b as E,e as T,f as F,g as N,h as L,i as B,j as z,q as H,s as G}from"./chunk-C6TDYET4.js";import"./chunk-ZVBRR6AA.js";import"./chunk-LYNREAIS.js";import"./chunk-74PP5OHW.js";import"./chunk-Q64FFBLU.js";import"./chunk-PZDGU76M.js";import"./chunk-6RETXR6U.js";import"./chunk-T5LH5EWW.js";import{Ab as v,Ib as P,Jb as O,Kb as o,Lb as i,Mb as V,Qb as h,Ub as u,Uc as A,Vb as x,dc as f,ec as a,fb as s,fc as M,gb as S,gc as k,ic as _,ja as C,jc as b,kc as w,mc as W,na as I,xa as l,ya as d,yb as g}from"./chunk-7ATWILSR.js";var Q=(m,y)=>y.id;function R(m,y){if(m&1){let n=h();o(0,"button",19),u("click",function(){let e=l(n).$implicit,r=x(),p=f(19);return r.handleCategory(e),d(p.classList.replace("flex","hidden"))}),o(1,"mat-icon"),a(2),i(),a(3),i()}if(m&2){let n=y.$implicit,c=x();v("text-primary-500",c.newIncome.category.id==n.id),s(2),M(n.icon),s(),k(" ",n.name," ")}}var ce=(()=>{class m{constructor(n){this.fb=n,this._ctgService=C(Y),this._incomeService=C(q),this.categories=A(()=>this._ctgService.categories()),this.selectedDate="",this.newIncome={subject:"",amount:0,date:"",mode:"income",category:{id:1,name:"Home",icon:"home",isDefault:!0}}}addIncome(){this._incomeService.saveIncome(this.newIncome),this.newIncome={subject:"",amount:0,date:"",mode:"income",category:{id:1,name:"Home",icon:"home",isDefault:!0}}}handleCategory(n){this.newIncome.category=n}formatDate(n){let c=n.getDate().toString().padStart(2,"0"),e=(n.getMonth()+1).toString().padStart(2,"0"),r=n.getFullYear();this.newIncome.date=`${c}-${e}-${r}`}isFormValid(){return this.newIncome.amount>0&&this.newIncome.subject.trim()!==""&&this.newIncome.date!==""}static{this.\u0275fac=function(c){return new(c||m)(S(H))}}static{this.\u0275cmp=I({type:m,selectors:[["app-add-income"]],standalone:!0,features:[W],decls:30,vars:9,consts:[["form",""],["ctgMenu",""],[1,"w-full","h-full","flex","center"],[1,"min-w-80","p-5","flex","flex-col","items-center","justify-between","gap-5","bg-basic-1100","border","border-primary-900","rounded-xl","shadow-3","relative"],[1,"text-center"],[1,"formWrapper"],["for","subject"],["type","text","name","subject","placeholder","Subject",1,"expenseInput",3,"ngModelChange","ngModel"],["for","amount"],["type","number","name","amount","placeholder","Amount",1,"expenseInput",3,"ngModelChange","ngModel"],["for","category",1,"-mr-1"],[1,"btn-secondary","flex-1","rounded-lg",3,"click"],[1,"min-w-full","h-full","absolute","hidden","flex-col","flex-wrap","items-start","justify-center","gap-3","bg-basic-1100","inset-0","rounded-xl","z-20","p-3"],[1,"absolute","top-3","right-3",3,"click"],[1,"pi","pi-times"],[1,"flex","center","gap-2",3,"text-primary-500"],["for","date"],["name","date","dateFormat","dd/mm/yy","styleClass","z-10",3,"onSelect","ngModelChange","showTime","showSeconds","ngModel","showIcon","iconDisplay"],["type","submit",1,"btn-primary","self-stretch","disabled:btn-primary-disabled",3,"click","disabled"],[1,"flex","center","gap-2",3,"click"]],template:function(c,e){if(c&1){let r=h();o(0,"div",2)(1,"form",3,0)(3,"h3",4),a(4,"Add Income"),i(),o(5,"div",5)(6,"label",6),a(7,"Subject"),i(),o(8,"input",7),w("ngModelChange",function(t){return l(r),b(e.newIncome.subject,t)||(e.newIncome.subject=t),d(t)}),i()(),o(9,"div",5)(10,"label",8),a(11,"Amount"),i(),o(12,"input",9),w("ngModelChange",function(t){return l(r),b(e.newIncome.amount,t)||(e.newIncome.amount=t),d(t)}),i()(),o(13,"div",5)(14,"label",10),a(15,"Category"),i(),o(16,"button",11),u("click",function(){l(r);let t=f(19);return d(t.classList.replace("hidden","flex"))}),a(17),i(),o(18,"div",12,1)(20,"button",13),u("click",function(){l(r);let t=f(19);return d(t.classList.replace("flex","hidden"))}),V(21,"i",14),i(),P(22,R,4,4,"button",15,Q),i()(),o(24,"div",5)(25,"label",16),a(26,"Date"),i(),o(27,"p-calendar",17),u("onSelect",function(t){return l(r),d(e.formatDate(t))}),w("ngModelChange",function(t){return l(r),b(e.selectedDate,t)||(e.selectedDate=t),d(t)}),i()(),o(28,"button",18),u("click",function(){return l(r),d(e.addIncome())}),a(29,"Add Income"),i()()()}c&2&&(s(8),_("ngModel",e.newIncome.subject),s(4),_("ngModel",e.newIncome.amount),s(5),M(e.newIncome.category.name),s(5),O(e.categories()),s(5),g("showTime",!1)("showSeconds",!1),_("ngModel",e.selectedDate),g("showIcon",!0)("iconDisplay","input"),s(),g("disabled",!e.isFormValid()))},dependencies:[D,j,G,B,E,z,T,F,L,N,K,J],styles:[".categoryContainer[_ngcontent-%COMP%]{position:relative;display:inline-block}.categoryMenu[_ngcontent-%COMP%]{background-color:var(--basic-800);color:var(--basic-300);padding:12px;border-radius:12px;flex-wrap:wrap;justify-content:center;align-items:center;gap:20px;position:absolute;left:100%;top:10%;margin-left:12px;overflow-y:scroll}.categoryNameInput[_ngcontent-%COMP%]{background-color:var(--basic-1000);color:var(--basic-300);width:100%;margin-right:8px;padding:10px 20px;border-radius:12px;border:2px solid transparent}.categoryNameInput[_ngcontent-%COMP%]:focus-visible{border:2px solid var(--primary-600);outline:none}.amountInp[_ngcontent-%COMP%]::-webkit-outer-spin-button, .amountInp[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}textarea[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:8px;padding:8px}textarea[_ngcontent-%COMP%]:focus{border:2px solid var(--primary-700);outline:none}.formWrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:12px}.formWrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{justify-self:left}.formWrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formWrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .formWrapper[_ngcontent-%COMP%]   p-calendar[_ngcontent-%COMP%]{margin-left:auto}.formWrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;background-color:var(--basic-900);padding:8px 12px;border-radius:8px;appearance:textfield;-moz-appearance:textfield}.formWrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.formWrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-600)}"]})}}return m})();export{ce as AddIncomeComponent};
